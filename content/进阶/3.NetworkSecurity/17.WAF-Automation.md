---
title: " WAF 自动化 "
chapter: false
weight: 41
tags:
  - advanced
---

在 AWS 解决方案库中提供了一套用于自动化部署 WAF 规则的解决方案。

AWS WAF Security Automations 解决方案使用 AWS CloudFormation 自动部署一系列旨在筛选基于 Web 的常见攻击的 AWS WAF 规则。用户可以从预先配置的保护性功能中进行选择，这些功能用于定义 AWS WAF Web 访问控制列表 (Web ACL) 中包含的规则。在解决方案部署完成以后，AWS WAF 会开始检查至用户现有 Amazon CloudFront 分布或 Application Load Balancer 的 Web 请求，并在适用时阻止它们。

详细的部署步骤请参考此链接： [AWS WAF Security Automations](https://aws.amazon.com/cn/solutions/implementations/aws-waf-security-automations/)

AWS WAF Security Automations 解决方案对试图访问您的 Web 应用程序的请求提供精细控制。下图表示您可以使用该解决方案提供的 AWS CloudFormation 模板构建的架构。

解决方案提供一系列的 WAF 保护规则和日志分析引擎，您可以根据具体需求选择激活若干项或者全部规则。

![](/images/3.NetworkSecurity/WAF-automation.png)

**AWS WAF Security Automations 架构：**

 - AWS 托管规则 (A)：此 AWS 托管核心规则组合提供保护，避免各种常见的应用程序漏洞被利用或出现其他不必要的流量。

 - 手动 IP 列表（B 和 C）：此组件可创建两个特定的 AWS WAF 规则，从而使您可以手动插入您想阻止或允许的 IP 地址。

 - SQL 注入 (D) 和 XSS (E)：此解决方案可配置两个本机 AWS WAF 规则，这些规则旨在防止 URI、查询字符串或请求正文中的常见 SQL 注入或跨站点脚本 (XSS) 模式。

 - HTTP 泛洪攻击 (F)：此组件可防止由来自特定 IP 地址的大量请求组成的攻击，如 Web 层 DDoS 攻击或暴力登录尝试。

 - 扫描程序和探测器 (G)：此组件可解析应用程序访问日志，以搜索可疑行为，例如源生成的异常错误量。然后，它将在客户定义的时间段内阻止这些可疑的源 IP 地址。

 - IP 声誉列表 (H)：此组件是 IP 列表解析器 AWS Lambda 函数，可每小时检查第三方 IP 声誉列表，以获取要阻止的新范围。

 - 不良 Bot (I)：此组件可自动设置蜜罐，它是一种安全机制，旨在引诱并转移试图进行的攻击。